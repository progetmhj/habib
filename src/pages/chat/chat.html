
<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button ion-button menuToggle >
        <ion-icon name="ios-menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Chat</ion-title>
    <ion-buttons end>
      <button ion-button (click)="searchPopover($event)" >
        <ion-icon name="ios-search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
 
  <ion-list> 
    <ion-item class="avatarItem" *ngFor="let msg of msgList" [ngClass]="{'rightAvatar':msg.userId === userId}">
      <ion-avatar item-left>
        <img [src]="msg.userImgUrl"/>
      </ion-avatar>


      <ion-grid>
        <ion-row>
          <ion-col col-auto>
            <h4 >{{msg.userName}}</h4>
          </ion-col>
          <ion-col >
            <p *ngIf="msg.userId != userId">20 Agu</p>
            <p *ngIf="msg.userId === userId">{{msg.time | relativeTime}}</p>
          </ion-col>
        </ion-row>
      </ion-grid>
        <p >{{msg.message}}</p>
    </ion-item>
  </ion-list>

</ion-content> 

<ion-footer no-border>
  <ion-grid class="input-wrap">
    <ion-row>
      <ion-col col>
        <ion-textarea
                #chat_input
                placeholder="Text Input"
                [(ngModel)]="editorMsg"
                (keyup.enter)="sendMsg()"
                (focus)="_focus()"
        ></ion-textarea>
      </ion-col>
      <ion-col col-auto>
        <button ion-button block  item-right color="color1"
                (click)="sendMsg()" >
                Replay
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>